(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"Z+mV":function(e,t,n){"use strict";n.r(t),n.d(t,"AirdropTemplates",(function(){return k}));n("g9YV");var a=n("wCAj"),r=(n("DYRE"),n("zeV3")),c=(n("+L6B"),n("2/Rp")),i=(n("2qtc"),n("kLXV")),s=n("qLMh"),o=(n("miYZ"),n("tsqr")),u=n("9og8"),d=n("tJVT"),l=n("cDcd"),p=n.n(l),f=n("fBUP"),m=n("nKUr"),k=function(){var e=p.a.useState([]),t=Object(d["a"])(e,2),n=t[0],l=t[1],k=p.a.useState(!1),h=Object(d["a"])(k,2),j=h[0],T=h[1],w=function(){var e=Object(u["a"])(Object(s["a"])().mark((function e(){var t,n,a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),e.next=4,f["c"].getTemplates();case 4:n=e.sent,a=null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:[],l(a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),o["default"].error("\u52a0\u8f7d\u6a21\u677f\u5217\u8868\u5931\u8d25: "+e.t0.message);case 12:return e.prev=12,T(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();p.a.useEffect((function(){w()}),[]);var x=function(){o["default"].info("\u65b0\u5efa\u6a21\u677f\u529f\u80fd\u5f00\u53d1\u4e2d...")},b=function(e){o["default"].info("\u4f7f\u7528\u6a21\u677f: ".concat(e.templateName))},v=function(e){o["default"].info("\u7f16\u8f91\u6a21\u677f: ".concat(e.templateName))},g=function(e){i["a"].confirm({title:"\u786e\u8ba4\u5220\u9664",content:'\u786e\u5b9a\u8981\u5220\u9664\u6a21\u677f "'.concat(e.templateName,'" \u5417\uff1f'),onOk:function(){return Object(u["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["c"].deleteTemplate(e.id);case 3:o["default"].success("\u6a21\u677f\u5220\u9664\u6210\u529f"),w(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),o["default"].error("\u5220\u9664\u6a21\u677f\u5931\u8d25: "+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}})},O=[{title:"\u6a21\u677f\u540d\u79f0",dataIndex:"templateName",key:"templateName"},{title:"\u6a21\u677f\u7c7b\u578b",dataIndex:"templateType",key:"templateType"},{title:"\u811a\u672c\u7c7b\u578b",dataIndex:"scriptType",key:"scriptType"},{title:"\u7248\u672c",dataIndex:"version",key:"version"},{title:"\u4f7f\u7528\u6b21\u6570",dataIndex:"usageCount",key:"usageCount"},{title:"\u63cf\u8ff0",dataIndex:"description",key:"description"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return Object(m["jsxs"])(r["b"],{children:[Object(m["jsx"])(c["a"],{type:"link",size:"small",onClick:function(){return b(t)},children:"\u4f7f\u7528"}),Object(m["jsx"])(c["a"],{type:"link",size:"small",onClick:function(){return v(t)},children:"\u7f16\u8f91"}),Object(m["jsx"])(c["a"],{type:"link",size:"small",danger:!0,onClick:function(){return g(t)},children:"\u5220\u9664"})]})}}];return Object(m["jsxs"])("div",{className:"airdrop-templates",children:[Object(m["jsxs"])("div",{style:{marginBottom:16},children:[Object(m["jsx"])(c["a"],{type:"primary",onClick:x,children:"\u65b0\u5efa\u6a21\u677f"}),Object(m["jsx"])(c["a"],{style:{marginLeft:8},onClick:w,children:"\u5237\u65b0"})]}),Object(m["jsx"])(a["a"],{columns:O,dataSource:n,rowKey:"id",loading:j,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u8bb0\u5f55")}}})]})};t["default"]=k},fBUP:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return m}));n("/xke");var a=n("TeRw"),r=n("ZqBY"),c=function(e){var t=e.response;if(t&&t.status){var n=t.status;401===n?a["default"].warn({message:"\u672a\u6388\u6743",description:"\u8bf7\u91cd\u65b0\u767b\u5f55"}):403===n&&a["default"].warn({message:"\u672a\u6388\u6743\u64cd\u4f5c"})}else t||a["default"].warn({message:"hold on! \u60a8\u7684\u8bf7\u6c42\u672a\u53ca\u54cd\u5e94\uff01"});return t},i=Object(r["a"])({errorHandler:c}),s=function(e,t){var n=t||{},a=n.method,r=void 0===a?"GET":a,c={method:r,headers:{Accept:"*/*"}};return"GET"===r?Object.assign(c,t):Object.assign(c,{data:t.data}),i(e,c)},o="undefined"!==typeof window&&window.request?window.request:s,u=o,d="/plugins/airdrop",l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u("".concat(d).concat(e),t)},p={getTasks:function(){return l("/tasks")},createTask:function(e){return l("/tasks",{method:"POST",data:e})},updateTask:function(e,t){return l("/tasks/".concat(e),{method:"PUT",data:t})},deleteTask:function(e){return l("/tasks/".concat(e),{method:"DELETE"})},executeTask:function(e){return l("/tasks/".concat(e,"/execute"),{method:"POST"})}},f={getTemplates:function(){return l("/templates")},createTemplate:function(e){return l("/templates",{method:"POST",data:e})},updateTemplate:function(e,t){return l("/templates/".concat(e),{method:"PUT",data:t})},deleteTemplate:function(e){return l("/templates/".concat(e),{method:"DELETE"})}},m={getExecutions:function(){return l("/execution")}}}}]);