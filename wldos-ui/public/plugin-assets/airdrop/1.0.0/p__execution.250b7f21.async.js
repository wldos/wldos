(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"8KuP":function(e,t,n){"use strict";n.r(t),n.d(t,"AirdropExecution",(function(){return x}));n("g9YV");var a=n("wCAj"),r=(n("DYRE"),n("zeV3")),c=(n("+L6B"),n("2/Rp")),o=(n("+BJd"),n("mr32")),s=(n("2qtc"),n("kLXV")),i=n("qLMh"),u=(n("miYZ"),n("tsqr")),d=n("9og8"),l=n("tJVT"),f=n("cDcd"),p=n.n(f),m=n("fBUP"),k=n("nKUr"),x=function(){var e=p.a.useState([]),t=Object(l["a"])(e,2),n=t[0],f=t[1],x=p.a.useState(!1),h=Object(l["a"])(x,2),j=h[0],b=h[1],w=function(){var e=Object(d["a"])(Object(i["a"])().mark((function e(){var t,n,a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,m["a"].getExecutions();case 4:n=e.sent,a=null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:[],f(a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),u["default"].error("\u52a0\u8f7d\u6267\u884c\u8bb0\u5f55\u5931\u8d25: "+e.t0.message);case 12:return e.prev=12,b(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();p.a.useEffect((function(){w()}),[]);var g=function(){w()},T=function(e){u["default"].info("\u67e5\u770b\u8be6\u60c5: ".concat(e.taskName))},v=function(e){s["a"].confirm({title:"\u786e\u8ba4\u91cd\u65b0\u6267\u884c",content:'\u786e\u5b9a\u8981\u91cd\u65b0\u6267\u884c\u4efb\u52a1 "'.concat(e.taskName,'" \u5417\uff1f'),onOk:function(){return Object(d["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m["b"].executeTask(e.taskId);case 3:u["default"].success("\u4efb\u52a1\u91cd\u65b0\u6267\u884c\u4e2d..."),w(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),u["default"].error("\u91cd\u65b0\u6267\u884c\u5931\u8d25: "+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}})},O=[{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"taskName",key:"taskName"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){var t={success:{color:"green",text:"\u6210\u529f"},failed:{color:"red",text:"\u5931\u8d25"},running:{color:"blue",text:"\u8fd0\u884c\u4e2d"},pending:{color:"orange",text:"\u5f85\u6267\u884c"}},n=t[e]||{color:"default",text:e};return Object(k["jsx"])(o["a"],{color:n.color,children:n.text})}},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime",key:"startTime"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime",key:"endTime"},{title:"\u6267\u884c\u65f6\u957f",dataIndex:"duration",key:"duration"},{title:"\u9519\u8bef\u4fe1\u606f",dataIndex:"errorMessage",key:"errorMessage",ellipsis:!0},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return Object(k["jsxs"])(r["b"],{children:[Object(k["jsx"])(c["a"],{type:"link",size:"small",onClick:function(){return T(t)},children:"\u67e5\u770b\u8be6\u60c5"}),Object(k["jsx"])(c["a"],{type:"link",size:"small",onClick:function(){return v(t)},children:"\u91cd\u65b0\u6267\u884c"})]})}}];return Object(k["jsxs"])("div",{className:"airdrop-execution",children:[Object(k["jsx"])("div",{style:{marginBottom:16},children:Object(k["jsx"])(c["a"],{type:"primary",onClick:g,children:"\u5237\u65b0"})}),Object(k["jsx"])(a["a"],{columns:O,dataSource:n,rowKey:"id",loading:j,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u8bb0\u5f55")}}})]})};t["default"]=x},fBUP:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));n("/xke");var a=n("TeRw"),r=n("ZqBY"),c=function(e){var t=e.response;if(t&&t.status){var n=t.status;401===n?a["default"].warn({message:"\u672a\u6388\u6743",description:"\u8bf7\u91cd\u65b0\u767b\u5f55"}):403===n&&a["default"].warn({message:"\u672a\u6388\u6743\u64cd\u4f5c"})}else t||a["default"].warn({message:"hold on! \u60a8\u7684\u8bf7\u6c42\u672a\u53ca\u54cd\u5e94\uff01"});return t},o=Object(r["a"])({errorHandler:c}),s=function(e,t){var n=t||{},a=n.method,r=void 0===a?"GET":a,c={method:r,headers:{Accept:"*/*"}};return"GET"===r?Object.assign(c,t):Object.assign(c,{data:t.data}),o(e,c)},i="undefined"!==typeof window&&window.request?window.request:s,u=i,d="/plugins/airdrop",l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u("".concat(d).concat(e),t)},f={getTasks:function(){return l("/tasks")},createTask:function(e){return l("/tasks",{method:"POST",data:e})},updateTask:function(e,t){return l("/tasks/".concat(e),{method:"PUT",data:t})},deleteTask:function(e){return l("/tasks/".concat(e),{method:"DELETE"})},executeTask:function(e){return l("/tasks/".concat(e,"/execute"),{method:"POST"})}},p={getTemplates:function(){return l("/templates")},createTemplate:function(e){return l("/templates",{method:"POST",data:e})},updateTemplate:function(e,t){return l("/templates/".concat(e),{method:"PUT",data:t})},deleteTemplate:function(e){return l("/templates/".concat(e),{method:"DELETE"})}},m={getExecutions:function(){return l("/execution")}}}}]);