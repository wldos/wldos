(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{fBUP:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return k}));n("/xke");var a=n("TeRw"),r=n("ZqBY"),c=function(e){var t=e.response;if(t&&t.status){var n=t.status;401===n?a["default"].warn({message:"\u672a\u6388\u6743",description:"\u8bf7\u91cd\u65b0\u767b\u5f55"}):403===n&&a["default"].warn({message:"\u672a\u6388\u6743\u64cd\u4f5c"})}else t||a["default"].warn({message:"hold on! \u60a8\u7684\u8bf7\u6c42\u672a\u53ca\u54cd\u5e94\uff01"});return t},o=Object(r["a"])({errorHandler:c}),i=function(e,t){var n=t||{},a=n.method,r=void 0===a?"GET":a,c={method:r,headers:{Accept:"*/*"}};return"GET"===r?Object.assign(c,t):Object.assign(c,{data:t.data}),o(e,c)},s="undefined"!==typeof window&&window.request?window.request:i,u=s,d="/plugins/airdrop",l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u("".concat(d).concat(e),t)},f={getTasks:function(){return l("/tasks")},createTask:function(e){return l("/tasks",{method:"POST",data:e})},updateTask:function(e,t){return l("/tasks/".concat(e),{method:"PUT",data:t})},deleteTask:function(e){return l("/tasks/".concat(e),{method:"DELETE"})},executeTask:function(e){return l("/tasks/".concat(e,"/execute"),{method:"POST"})}},p={getTemplates:function(){return l("/templates")},createTemplate:function(e){return l("/templates",{method:"POST",data:e})},updateTemplate:function(e,t){return l("/templates/".concat(e),{method:"PUT",data:t})},deleteTemplate:function(e){return l("/templates/".concat(e),{method:"DELETE"})}},k={getExecutions:function(){return l("/execution")}}},"yi/R":function(e,t,n){"use strict";n.r(t),n.d(t,"AirdropTasks",(function(){return x}));n("g9YV");var a=n("wCAj"),r=(n("DYRE"),n("zeV3")),c=(n("+L6B"),n("2/Rp")),o=(n("+BJd"),n("mr32")),i=(n("2qtc"),n("kLXV")),s=n("qLMh"),u=(n("miYZ"),n("tsqr")),d=n("9og8"),l=n("tJVT"),f=n("cDcd"),p=n.n(f),k=n("fBUP"),m=n("nKUr"),x=function(){var e=p.a.useState([]),t=Object(l["a"])(e,2),n=t[0],f=t[1],x=p.a.useState(!1),h=Object(l["a"])(x,2),j=h[0],b=h[1],T=function(){var e=Object(d["a"])(Object(s["a"])().mark((function e(){var t,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,k["b"].getTasks();case 4:n=e.sent,f(null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:[]),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),u["default"].error("\u52a0\u8f7d\u4efb\u52a1\u5217\u8868\u5931\u8d25: "+e.t0.message);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();p.a.useEffect((function(){T()}),[]);var g=function(){u["default"].info("\u65b0\u5efa\u4efb\u52a1\u529f\u80fd\u5f00\u53d1\u4e2d...")},w=function(e){u["default"].info("\u67e5\u770b\u4efb\u52a1: ".concat(e.taskName))},v=function(e){u["default"].info("\u7f16\u8f91\u4efb\u52a1: ".concat(e.taskName))},y=function(e){i["a"].confirm({title:"\u786e\u8ba4\u5220\u9664",content:'\u786e\u5b9a\u8981\u5220\u9664\u4efb\u52a1 "'.concat(e.taskName,'" \u5417\uff1f'),onOk:function(){return Object(d["a"])(Object(s["a"])().mark((function t(){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k["b"].deleteTask(e.id);case 3:u["default"].success("\u4efb\u52a1\u5220\u9664\u6210\u529f"),T(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),u["default"].error("\u5220\u9664\u4efb\u52a1\u5931\u8d25: "+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}})},O=[{title:"\u4efb\u52a1\u540d\u79f0",dataIndex:"taskName",key:"taskName"},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"taskType",key:"taskType"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){var t={pending:{color:"orange",text:"\u5f85\u6267\u884c"},running:{color:"blue",text:"\u8fd0\u884c\u4e2d"},completed:{color:"green",text:"\u5df2\u5b8c\u6210"},failed:{color:"red",text:"\u5931\u8d25"},stopped:{color:"gray",text:"\u5df2\u505c\u6b62"}},n=t[e]||{color:"default",text:e};return Object(m["jsx"])(o["a"],{color:n.color,children:n.text})}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority"},{title:"\u6267\u884c\u6b21\u6570",dataIndex:"executionCount",key:"executionCount"},{title:"\u6210\u529f\u6b21\u6570",dataIndex:"successCount",key:"successCount"},{title:"\u5931\u8d25\u6b21\u6570",dataIndex:"failureCount",key:"failureCount"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return Object(m["jsxs"])(r["b"],{children:[Object(m["jsx"])(c["a"],{type:"link",size:"small",onClick:function(){return w(t)},children:"\u67e5\u770b"}),Object(m["jsx"])(c["a"],{type:"link",size:"small",onClick:function(){return v(t)},children:"\u7f16\u8f91"}),Object(m["jsx"])(c["a"],{type:"link",size:"small",danger:!0,onClick:function(){return y(t)},children:"\u5220\u9664"})]})}}];return Object(m["jsxs"])("div",{className:"airdrop-tasks",children:[Object(m["jsxs"])("div",{style:{marginBottom:16},children:[Object(m["jsx"])(c["a"],{type:"primary",onClick:g,children:"\u65b0\u5efa\u4efb\u52a1"}),Object(m["jsx"])(c["a"],{style:{marginLeft:8},onClick:T,children:"\u5237\u65b0"})]}),Object(m["jsx"])(a["a"],{columns:O,dataSource:n,rowKey:"id",loading:j,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u8bb0\u5f55")}}})]})};t["default"]=x}}]);