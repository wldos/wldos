(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{YBll:function(e,t,n){"use strict";n.r(t);n("2qtc");var r=n("kLXV"),a=(n("5NDa"),n("5rEg")),c=(n("IzEo"),n("bx4M")),s=(n("g9YV"),n("wCAj")),i=(n("DYRE"),n("zeV3")),u=(n("P2fV"),n("NJEC")),o=(n("+L6B"),n("2/Rp")),l=n("qLMh"),d=(n("miYZ"),n("tsqr")),f=n("9og8"),j=(n("y8nQ"),n("Vl3Y")),h=n("tJVT"),p=n("q1tI"),b=n("G3dp"),O=n("VTBJ"),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},v=m,x=n("6VBw"),w=function(e,t){return p["createElement"](x["a"],Object(O["a"])(Object(O["a"])({},e),{},{ref:t,icon:v}))},g=p["forwardRef"](w);var k=g,y=n("xvlK"),D=(n("/xke"),n("TeRw")),E=n("ZqBY"),T=n("QkB8"),I={200:"\u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u8bf7\u6c42\u7684\u6570\u636e\u3002",201:"\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u6210\u529f\u3002",202:"\u4e00\u4e2a\u8bf7\u6c42\u5df2\u7ecf\u8fdb\u5165\u540e\u53f0\u6392\u961f\uff08\u5f02\u6b65\u4efb\u52a1\uff09\u3002",204:"\u5220\u9664\u6570\u636e\u6210\u529f\u3002",400:"\u53d1\u51fa\u7684\u8bf7\u6c42\u6709\u9519\u8bef\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u3002",401:"\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09\u3002",403:"\u6743\u9650\u4e0d\u8db3\uff0c\u8bbf\u95ee\u88ab\u7981\u6b62\u3002",404:"\u53d1\u51fa\u7684\u8bf7\u6c42\u9488\u5bf9\u7684\u662f\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\u3002",406:"\u8bf7\u6c42\u7684\u683c\u5f0f\u4e0d\u53ef\u5f97\u3002",422:"\u5f53\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53d1\u751f\u4e00\u4e2a\u9a8c\u8bc1\u9519\u8bef\u3002",500:"\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u3002",502:"\u7f51\u5173\u9519\u8bef\u3002",503:"\u670d\u52a1\u4e0d\u53ef\u7528\uff0c\u670d\u52a1\u5668\u6682\u65f6\u8fc7\u8f7d\u6216\u7ef4\u62a4\u3002",504:"\u7f51\u5173\u8d85\u65f6\u3002"},C=function(e){var t=e.response;if(t&&t.status){var n=t.status;401===n?D["default"].warn({message:"\u672a\u6388\u6743",description:"\u8bf7\u91cd\u65b0\u767b\u5f55"}):403===n&&D["default"].warn({message:"\u672a\u6388\u6743\u64cd\u4f5c"})}else t||D["default"].warn({message:"hold on! \u60a8\u7684\u8bf7\u6c42\u672a\u53ca\u54cd\u5e94\uff01"});return t},S=Object(E["a"])({errorHandler:C});S.interceptors.response.use((function(e){var t=e.data;if("string"===typeof t)try{t=JSON.parse(t)}catch(l){return e}if(t&&(void 0!==t.code||void 0!==t.success)){var n,r,a=null!==(n=t.code)&&void 0!==n?n:200,c=t.message||"\u64cd\u4f5c\u6210\u529f",s=null!==(r=t.success)&&void 0!==r?r:200===a,i=t.data;if(s&&200===a)return e.data=i,e;var u=I[a]||c;401===a?D["default"].warn({message:"\u672a\u6388\u6743",description:"\u8bf7\u91cd\u65b0\u767b\u5f55"}):403===a?D["default"].warn({message:"\u6743\u9650\u4e0d\u8db3",description:u}):D["default"].error({message:"\u64cd\u4f5c\u5931\u8d25",description:u});var o=new Error(u);return o.response=e,o.code=a,Promise.reject(o)}return e}),(function(e){return Promise.reject(e)}));var V=function(e,t){var n=t||{},r=n.method,a=void 0===r?"GET":r,c={method:a,headers:{Accept:"*/*"}};return"GET"===a?Object.assign(c,t):Object.assign(c,{data:t.data}),S(e,c)},z=function(e,t){if("undefined"!==typeof window&&window.pluginRequest){if(!T["a"])throw new Error("Plugin code is not configured. Please ensure PLUGIN_CODE is set in src/config/plugin.js");return window.pluginRequest(e,t,T["a"])}return V(e,t)},P=z,q="",B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P("".concat(q).concat(e),t)},F={getDemos:function(){return B("/list")},getDemoById:function(e){return B("/".concat(e))},createDemo:function(e){return B("/create",{method:"POST",data:e})},updateDemo:function(e,t){return B("/".concat(e),{method:"PUT",data:t})},deleteDemo:function(e){return B("/".concat(e),{method:"DELETE"})},initDemoData:function(){return B("/init",{method:"POST"})},healthCheck:function(){return B("/health")}},J=n("nKUr"),R=function(){var e=Object(p["useState"])([]),t=Object(h["a"])(e,2),n=t[0],O=t[1],m=Object(p["useState"])(!1),v=Object(h["a"])(m,2),x=v[0],w=v[1],g=Object(p["useState"])(!1),D=Object(h["a"])(g,2),E=D[0],T=D[1],I=Object(p["useState"])(null),C=Object(h["a"])(I,2),S=C[0],V=C[1],z=j["a"].useForm(),P=Object(h["a"])(z,1),q=P[0],B=function(){var e=Object(f["a"])(Object(l["a"])().mark((function e(){var t;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,F.getDemos();case 4:t=e.sent,t&&t.data&&O(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),d["default"].error("\u52a0\u8f7d\u6570\u636e\u5931\u8d25");case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();Object(p["useEffect"])((function(){B()}),[]);var R=function(){var e=Object(f["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.initDemoData();case 3:d["default"].success("\u521d\u59cb\u5316\u793a\u4f8b\u6570\u636e\u6210\u529f"),B(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),d["default"].error("\u521d\u59cb\u5316\u5931\u8d25");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(f["a"])(Object(l["a"])().mark((function e(){var t;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.validateFields();case 3:if(t=e.sent,!S){e.next=10;break}return e.next=7,F.updateDemo(S.id,t);case 7:d["default"].success("\u66f4\u65b0\u6210\u529f"),e.next=13;break;case 10:return e.next=12,F.createDemo(t);case 12:d["default"].success("\u521b\u5efa\u6210\u529f");case 13:T(!1),V(null),q.resetFields(),B(),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),d["default"].error(S?"\u66f4\u65b0\u5931\u8d25":"\u521b\u5efa\u5931\u8d25");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(f["a"])(Object(l["a"])().mark((function e(t){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.deleteDemo(t);case 3:d["default"].success("\u5220\u9664\u6210\u529f"),B(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),d["default"].error("\u5220\u9664\u5931\u8d25");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(e){V(e),q.setFieldsValue(e),T(!0)},G=function(){V(null),q.resetFields(),T(!0)},M=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u63cf\u8ff0",dataIndex:"description",key:"description"},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:100,render:function(e){return Object(J["jsx"])("span",{children:1===e?"\u542f\u7528":"\u7981\u7528"})}},{title:"\u64cd\u4f5c",key:"action",width:150,render:function(e,t){return Object(J["jsxs"])(i["b"],{children:[Object(J["jsx"])(o["a"],{type:"link",size:"small",icon:Object(J["jsx"])(b["a"],{}),onClick:function(){return L(t)},children:"\u7f16\u8f91"}),Object(J["jsx"])(u["a"],{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return H(t.id)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(J["jsx"])(o["a"],{type:"link",size:"small",danger:!0,icon:Object(J["jsx"])(k,{}),children:"\u5220\u9664"})})]})}}];return Object(J["jsxs"])("div",{style:{padding:24},children:[Object(J["jsx"])(c["a"],{title:"\u793a\u4f8b\u6570\u636e\u7ba1\u7406",extra:Object(J["jsxs"])(i["b"],{children:[Object(J["jsx"])(o["a"],{onClick:R,children:"\u521d\u59cb\u5316\u793a\u4f8b\u6570\u636e"}),Object(J["jsx"])(o["a"],{type:"primary",icon:Object(J["jsx"])(y["a"],{}),onClick:G,children:"\u65b0\u589e"})]}),children:Object(J["jsx"])(s["a"],{columns:M,dataSource:n,loading:x,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761")}}})}),Object(J["jsx"])(r["a"],{title:S?"\u7f16\u8f91\u6570\u636e":"\u65b0\u589e\u6570\u636e",visible:E,onOk:Y,onCancel:function(){T(!1),V(null),q.resetFields()},children:Object(J["jsxs"])(j["a"],{form:q,layout:"vertical",children:[Object(J["jsx"])(j["a"].Item,{name:"name",label:"\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}],children:Object(J["jsx"])(a["a"],{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})}),Object(J["jsx"])(j["a"].Item,{name:"description",label:"\u63cf\u8ff0",children:Object(J["jsx"])(a["a"].TextArea,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0"})}),Object(J["jsx"])(j["a"].Item,{name:"status",label:"\u72b6\u6001",initialValue:1,children:Object(J["jsx"])(a["a"],{type:"number",placeholder:"0-\u7981\u7528\uff0c1-\u542f\u7528"})})]})})]})};t["default"]=R}}]);